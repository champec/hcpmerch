{% comment %}
  Renders the header section
{% endcomment %}

<header class="header">
  <div class="header__wrapper">
    {% if section.settings.logo != blank %}
      <a href="{{ routes.root_url }}" class="header__logo">
        {{ section.settings.logo | image_url: width: 200 | image_tag: alt: shop.name }}
      </a>
    {% else %}
      <a href="{{ routes.root_url }}" class="header__logo-text">
        <h1>{{ shop.name }}</h1>
      </a>
    {% endif %}

    <nav class="header__nav">
      <ul class="header__menu">
        {% for link in section.settings.menu.links %}
          <li class="header__menu-item">
            <a href="{{ link.url }}" class="header__menu-link">
              {{ link.title }}
            </a>
          </li>
        {% endfor %}
      </ul>
    </nav>

    <div class="header__icons">
      <a href="{{ routes.search_url }}" class="header__icon">
        {% render 'icon-search' %}
      </a>
      <a href="{{ routes.account_url }}" class="header__icon">
        {% render 'icon-account' %}
      </a>
      <a href="{{ routes.cart_url }}" class="header__icon">
        {% render 'icon-cart' %}
        <span class="cart-count">{{ cart.item_count }}</span>
      </a>
    </div>
  </div>
</header>

{% schema %}
{
  "name": "Header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo image"
    },
    {
      "type": "link_list",
      "id": "menu",
      "label": "Menu",
      "default": "main-menu"
    }
  ]
}
{% endschema %}
